{"ast":null,"code":"import _objectSpread from\"C:/Users/AZIZ/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/AZIZ/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/AZIZ/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/AZIZ/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{analyseAPI,dossierAPI}from'../services/api';import{useAuth}from'../context/AuthContext';import{toast}from'react-toastify';import{FiPlus,FiTrash2,FiEdit2,FiSearch}from'react-icons/fi';import ConfirmModal from'../components/ConfirmModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Analyses=function Analyses(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),analyses=_useState2[0],setAnalyses=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dossiers=_useState4[0],setDossiers=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showModal=_useState8[0],setShowModal=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showResultModal=_useState10[0],setShowResultModal=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),selectedAnalyse=_useState12[0],setSelectedAnalyse=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),search=_useState14[0],setSearch=_useState14[1];var _useState15=useState({dossierId:'',typeAnalyse:''}),_useState16=_slicedToArray(_useState15,2),form=_useState16[0],setForm=_useState16[1];var _useState17=useState({valeur:'',unite:'',interpretation:''}),_useState18=_slicedToArray(_useState17,2),resultForm=_useState18[0],setResultForm=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),confirmDelete=_useState20[0],setConfirmDelete=_useState20[1];var _useAuth=useAuth(),user=_useAuth.user;useEffect(function(){loadData();},[]);var loadData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$Promise$all,_yield$Promise$all2,aRes,dRes;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Promise.all([analyseAPI.getAll(),dossierAPI.getAll()]);case 3:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);aRes=_yield$Promise$all2[0];dRes=_yield$Promise$all2[1];setAnalyses(aRes.data);setDossiers(dRes.data);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);toast.error('Erreur de chargement');case 14:_context.prev=14;setLoading(false);return _context.finish(14);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,11,14,17]]);}));return function loadData(){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var _error$response,_error$response$data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.prev=1;_context2.next=4;return analyseAPI.create(form);case 4:toast.success('Analyse créée');setShowModal(false);setForm({dossierId:'',typeAnalyse:''});loadData();_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);toast.error(((_error$response=_context2.t0.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Erreur');case 13:case\"end\":return _context2.stop();}},_callee2,null,[[1,10]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleResultSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:e.preventDefault();_context3.prev=1;_context3.next=4;return analyseAPI.addResultat(selectedAnalyse.idAnalyse,resultForm);case 4:toast.success('Résultat enregistré');setShowResultModal(false);setResultForm({valeur:'',unite:'',interpretation:''});loadData();_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](1);toast.error('Erreur');case 13:case\"end\":return _context3.stop();}},_callee3,null,[[1,10]]);}));return function handleResultSubmit(_x2){return _ref3.apply(this,arguments);};}();var openResultModal=function openResultModal(analyse){setSelectedAnalyse(analyse);if(analyse.resultat){setResultForm({valeur:analyse.resultat.valeur,unite:analyse.resultat.unite,interpretation:analyse.resultat.interpretation||''});}else{setResultForm({valeur:'',unite:'',interpretation:''});}setShowResultModal(true);};var handleDelete=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return analyseAPI.delete(id);case 3:toast.success('Analyse supprimée');setConfirmDelete(null);loadData();_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);toast.error('Erreur');case 11:case\"end\":return _context4.stop();}},_callee4,null,[[0,8]]);}));return function handleDelete(_x3){return _ref4.apply(this,arguments);};}();var filtered=analyses.filter(function(a){var _a$dossier,_a$dossier$patient,_a$dossier2,_a$dossier2$patient;return\"\".concat(a.typeAnalyse,\" \").concat(((_a$dossier=a.dossier)===null||_a$dossier===void 0?void 0:(_a$dossier$patient=_a$dossier.patient)===null||_a$dossier$patient===void 0?void 0:_a$dossier$patient.nom)||'',\" \").concat(((_a$dossier2=a.dossier)===null||_a$dossier2===void 0?void 0:(_a$dossier2$patient=_a$dossier2.patient)===null||_a$dossier2$patient===void 0?void 0:_a$dossier2$patient.prenom)||'').toLowerCase().includes(search.toLowerCase());});if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Analyses de Laboratoire\"}),(user===null||user===void 0?void 0:user.role)==='technicien'&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return setShowModal(true);},children:[/*#__PURE__*/_jsx(FiPlus,{}),\" Nouvelle Analyse\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsx(FiSearch,{style:{position:'absolute',marginTop:12,marginLeft:12,color:'#999'}}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"Rechercher...\",value:search,onChange:function onChange(e){return setSearch(e.target.value);},style:{paddingLeft:36}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Patient\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Technicien\"}),/*#__PURE__*/_jsx(\"th\",{children:\"R\\xE9sultat\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Interpr\\xE9tation\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[filtered.map(function(a){var _a$dossier3,_a$resultat;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:a.dateAnalyse}),/*#__PURE__*/_jsx(\"td\",{children:a.typeAnalyse}),/*#__PURE__*/_jsx(\"td\",{children:(_a$dossier3=a.dossier)!==null&&_a$dossier3!==void 0&&_a$dossier3.patient?\"\".concat(a.dossier.patient.nom,\" \").concat(a.dossier.patient.prenom):'-'}),/*#__PURE__*/_jsx(\"td\",{children:a.technicien?\"\".concat(a.technicien.nom,\" \").concat(a.technicien.prenom):'-'}),/*#__PURE__*/_jsx(\"td\",{children:a.resultat?\"\".concat(a.resultat.valeur,\" \").concat(a.resultat.unite):/*#__PURE__*/_jsx(\"span\",{style:{color:'#ef6c00'},children:\"En attente\"})}),/*#__PURE__*/_jsx(\"td\",{children:((_a$resultat=a.resultat)===null||_a$resultat===void 0?void 0:_a$resultat.interpretation)||'-'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[(user===null||user===void 0?void 0:user.role)==='technicien'&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-secondary btn-icon\",onClick:function onClick(){return openResultModal(a);},title:\"R\\xE9sultat\",children:/*#__PURE__*/_jsx(FiEdit2,{})}),['technicien','administrateur'].includes(user===null||user===void 0?void 0:user.role)&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-danger btn-icon\",onClick:function onClick(){return setConfirmDelete(a);},children:/*#__PURE__*/_jsx(FiTrash2,{})})]})})]},a.idAnalyse);}),filtered.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",style:{textAlign:'center',padding:32,color:'#999'},children:\"Aucune analyse\"})})]})]})})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:function onClick(){return setShowModal(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Nouvelle Analyse\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:function onClick(){return setShowModal(false);},children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Dossier M\\xE9dical *\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:form.dossierId,onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{dossierId:e.target.value}));},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- S\\xE9lectionner --\"}),dossiers.map(function(d){var _d$patient,_d$patient2;return/*#__PURE__*/_jsxs(\"option\",{value:d.idDossier,children:[\"Dossier #\",d.idDossier,\" - \",(_d$patient=d.patient)===null||_d$patient===void 0?void 0:_d$patient.nom,\" \",(_d$patient2=d.patient)===null||_d$patient2===void 0?void 0:_d$patient2.prenom]},d.idDossier);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Type d'analyse *\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:form.typeAnalyse,onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{typeAnalyse:e.target.value}));},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- S\\xE9lectionner --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bilan sanguin\",children:\"Bilan sanguin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bilan lipidique\",children:\"Bilan lipidique\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Glyc\\xE9mie\",children:\"Glyc\\xE9mie\"}),/*#__PURE__*/_jsx(\"option\",{value:\"H\\xE9mogramme\",children:\"H\\xE9mogramme\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Analyse urinaire\",children:\"Analyse urinaire\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bilan h\\xE9patique\",children:\"Bilan h\\xE9patique\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bilan r\\xE9nal\",children:\"Bilan r\\xE9nal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Bilan thyro\\xEFdien\",children:\"Bilan thyro\\xEFdien\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:function onClick(){return setShowModal(false);},children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Cr\\xE9er\"})]})]})]})}),showResultModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:function onClick(){return setShowResultModal(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",onClick:function onClick(e){return e.stopPropagation();},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"R\\xE9sultat - \",selectedAnalyse===null||selectedAnalyse===void 0?void 0:selectedAnalyse.typeAnalyse]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:function onClick(){return setShowResultModal(false);},children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleResultSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Valeur *\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:resultForm.valeur,onChange:function onChange(e){return setResultForm(_objectSpread(_objectSpread({},resultForm),{},{valeur:e.target.value}));},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Unit\\xE9 *\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",value:resultForm.unite,onChange:function onChange(e){return setResultForm(_objectSpread(_objectSpread({},resultForm),{},{unite:e.target.value}));},placeholder:\"g/L, mmol/L...\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Interpr\\xE9tation\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:resultForm.interpretation,onChange:function onChange(e){return setResultForm(_objectSpread(_objectSpread({},resultForm),{},{interpretation:e.target.value}));},rows:3})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:function onClick(){return setShowResultModal(false);},children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Enregistrer\"})]})]})]})}),/*#__PURE__*/_jsx(ConfirmModal,{show:!!confirmDelete,title:\"Supprimer l'analyse\",message:confirmDelete?\"Voulez-vous vraiment supprimer l'analyse \\\"\".concat(confirmDelete.typeAnalyse,\"\\\" ?\"):'',confirmText:\"Supprimer\",cancelText:\"Annuler\",variant:\"danger\",onConfirm:function onConfirm(){return handleDelete(confirmDelete.idAnalyse);},onCancel:function onCancel(){return setConfirmDelete(null);}})]});};export default Analyses;","map":{"version":3,"names":["React","useState","useEffect","analyseAPI","dossierAPI","useAuth","toast","FiPlus","FiTrash2","FiEdit2","FiSearch","ConfirmModal","jsx","_jsx","jsxs","_jsxs","Analyses","_useState","_useState2","_slicedToArray","analyses","setAnalyses","_useState3","_useState4","dossiers","setDossiers","_useState5","_useState6","loading","setLoading","_useState7","_useState8","showModal","setShowModal","_useState9","_useState10","showResultModal","setShowResultModal","_useState11","_useState12","selectedAnalyse","setSelectedAnalyse","_useState13","_useState14","search","setSearch","_useState15","dossierId","typeAnalyse","_useState16","form","setForm","_useState17","valeur","unite","interpretation","_useState18","resultForm","setResultForm","_useState19","_useState20","confirmDelete","setConfirmDelete","_useAuth","user","loadData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$Promise$all","_yield$Promise$all2","aRes","dRes","wrap","_callee$","_context","prev","next","Promise","all","getAll","sent","data","t0","error","finish","stop","apply","arguments","handleSubmit","_ref2","_callee2","e","_error$response","_error$response$data","_callee2$","_context2","preventDefault","create","success","response","message","_x","handleResultSubmit","_ref3","_callee3","_callee3$","_context3","addResultat","idAnalyse","_x2","openResultModal","analyse","resultat","handleDelete","_ref4","_callee4","id","_callee4$","_context4","delete","_x3","filtered","filter","a","_a$dossier","_a$dossier$patient","_a$dossier2","_a$dossier2$patient","concat","dossier","patient","nom","prenom","toLowerCase","includes","className","children","role","onClick","style","position","marginTop","marginLeft","color","placeholder","value","onChange","target","paddingLeft","map","_a$dossier3","_a$resultat","dateAnalyse","technicien","title","length","colSpan","textAlign","padding","stopPropagation","onSubmit","_objectSpread","required","d","_d$patient","_d$patient2","idDossier","type","rows","show","confirmText","cancelText","variant","onConfirm","onCancel"],"sources":["C:/Users/AZIZ/Desktop/pfa esprim/barhoum/frontend/src/pages/Analyses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { analyseAPI, dossierAPI } from '../services/api';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { toast } from 'react-toastify';\r\nimport { FiPlus, FiTrash2, FiEdit2, FiSearch } from 'react-icons/fi';\r\nimport ConfirmModal from '../components/ConfirmModal';\r\n\r\nconst Analyses = () => {\r\n  const [analyses, setAnalyses] = useState([]);\r\n  const [dossiers, setDossiers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [showResultModal, setShowResultModal] = useState(false);\r\n  const [selectedAnalyse, setSelectedAnalyse] = useState(null);\r\n  const [search, setSearch] = useState('');\r\n  const [form, setForm] = useState({ dossierId: '', typeAnalyse: '' });\r\n  const [resultForm, setResultForm] = useState({ valeur: '', unite: '', interpretation: '' });\r\n  const [confirmDelete, setConfirmDelete] = useState(null);\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => { loadData(); }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      const [aRes, dRes] = await Promise.all([analyseAPI.getAll(), dossierAPI.getAll()]);\r\n      setAnalyses(aRes.data);\r\n      setDossiers(dRes.data);\r\n    } catch (error) {\r\n      toast.error('Erreur de chargement');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await analyseAPI.create(form);\r\n      toast.success('Analyse créée');\r\n      setShowModal(false);\r\n      setForm({ dossierId: '', typeAnalyse: '' });\r\n      loadData();\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Erreur');\r\n    }\r\n  };\r\n\r\n  const handleResultSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await analyseAPI.addResultat(selectedAnalyse.idAnalyse, resultForm);\r\n      toast.success('Résultat enregistré');\r\n      setShowResultModal(false);\r\n      setResultForm({ valeur: '', unite: '', interpretation: '' });\r\n      loadData();\r\n    } catch (error) {\r\n      toast.error('Erreur');\r\n    }\r\n  };\r\n\r\n  const openResultModal = (analyse) => {\r\n    setSelectedAnalyse(analyse);\r\n    if (analyse.resultat) {\r\n      setResultForm({\r\n        valeur: analyse.resultat.valeur,\r\n        unite: analyse.resultat.unite,\r\n        interpretation: analyse.resultat.interpretation || '',\r\n      });\r\n    } else {\r\n      setResultForm({ valeur: '', unite: '', interpretation: '' });\r\n    }\r\n    setShowResultModal(true);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await analyseAPI.delete(id);\r\n      toast.success('Analyse supprimée');\r\n      setConfirmDelete(null);\r\n      loadData();\r\n    } catch (error) {\r\n      toast.error('Erreur');\r\n    }\r\n  };\r\n\r\n  const filtered = analyses.filter(a =>\r\n    `${a.typeAnalyse} ${a.dossier?.patient?.nom || ''} ${a.dossier?.patient?.prenom || ''}`.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  if (loading) return <div className=\"loading\"><div className=\"spinner\"></div></div>;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-header\">\r\n        <h1>Analyses de Laboratoire</h1>\r\n        {user?.role === 'technicien' && (\r\n          <button className=\"btn btn-primary\" onClick={() => setShowModal(true)}>\r\n            <FiPlus /> Nouvelle Analyse\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"card\">\r\n        <div className=\"search-bar\">\r\n          <FiSearch style={{ position: 'absolute', marginTop: 12, marginLeft: 12, color: '#999' }} />\r\n          <input className=\"form-control\" placeholder=\"Rechercher...\" value={search} onChange={(e) => setSearch(e.target.value)} style={{ paddingLeft: 36 }} />\r\n        </div>\r\n\r\n        <div className=\"table-container\">\r\n          <table>\r\n            <thead>\r\n              <tr><th>Date</th><th>Type</th><th>Patient</th><th>Technicien</th><th>Résultat</th><th>Interprétation</th><th>Actions</th></tr>\r\n            </thead>\r\n            <tbody>\r\n              {filtered.map((a) => (\r\n                <tr key={a.idAnalyse}>\r\n                  <td>{a.dateAnalyse}</td>\r\n                  <td>{a.typeAnalyse}</td>\r\n                  <td>{a.dossier?.patient ? `${a.dossier.patient.nom} ${a.dossier.patient.prenom}` : '-'}</td>\r\n                  <td>{a.technicien ? `${a.technicien.nom} ${a.technicien.prenom}` : '-'}</td>\r\n                  <td>{a.resultat ? `${a.resultat.valeur} ${a.resultat.unite}` : <span style={{ color: '#ef6c00' }}>En attente</span>}</td>\r\n                  <td>{a.resultat?.interpretation || '-'}</td>\r\n                  <td>\r\n                    <div className=\"action-buttons\">\r\n                      {user?.role === 'technicien' && (\r\n                        <button className=\"btn btn-sm btn-secondary btn-icon\" onClick={() => openResultModal(a)} title=\"Résultat\"><FiEdit2 /></button>\r\n                      )}\r\n                      {['technicien', 'administrateur'].includes(user?.role) && (\r\n                        <button className=\"btn btn-sm btn-danger btn-icon\" onClick={() => setConfirmDelete(a)}><FiTrash2 /></button>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {filtered.length === 0 && <tr><td colSpan=\"7\" style={{ textAlign: 'center', padding: 32, color: '#999' }}>Aucune analyse</td></tr>}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      {/* New Analysis Modal */}\r\n      {showModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowModal(false)}>\r\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h2>Nouvelle Analyse</h2>\r\n              <button className=\"modal-close\" onClick={() => setShowModal(false)}>&times;</button>\r\n            </div>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"modal-body\">\r\n                <div className=\"form-group\">\r\n                  <label>Dossier Médical *</label>\r\n                  <select className=\"form-control\" value={form.dossierId} onChange={(e) => setForm({ ...form, dossierId: e.target.value })} required>\r\n                    <option value=\"\">-- Sélectionner --</option>\r\n                    {dossiers.map((d) => (\r\n                      <option key={d.idDossier} value={d.idDossier}>\r\n                        Dossier #{d.idDossier} - {d.patient?.nom} {d.patient?.prenom}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label>Type d'analyse *</label>\r\n                  <select className=\"form-control\" value={form.typeAnalyse} onChange={(e) => setForm({ ...form, typeAnalyse: e.target.value })} required>\r\n                    <option value=\"\">-- Sélectionner --</option>\r\n                    <option value=\"Bilan sanguin\">Bilan sanguin</option>\r\n                    <option value=\"Bilan lipidique\">Bilan lipidique</option>\r\n                    <option value=\"Glycémie\">Glycémie</option>\r\n                    <option value=\"Hémogramme\">Hémogramme</option>\r\n                    <option value=\"Analyse urinaire\">Analyse urinaire</option>\r\n                    <option value=\"Bilan hépatique\">Bilan hépatique</option>\r\n                    <option value=\"Bilan rénal\">Bilan rénal</option>\r\n                    <option value=\"Bilan thyroïdien\">Bilan thyroïdien</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowModal(false)}>Annuler</button>\r\n                <button type=\"submit\" className=\"btn btn-primary\">Créer</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Result Modal */}\r\n      {showResultModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowResultModal(false)}>\r\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h2>Résultat - {selectedAnalyse?.typeAnalyse}</h2>\r\n              <button className=\"modal-close\" onClick={() => setShowResultModal(false)}>&times;</button>\r\n            </div>\r\n            <form onSubmit={handleResultSubmit}>\r\n              <div className=\"modal-body\">\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>Valeur *</label>\r\n                    <input className=\"form-control\" value={resultForm.valeur} onChange={(e) => setResultForm({ ...resultForm, valeur: e.target.value })} required />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>Unité *</label>\r\n                    <input className=\"form-control\" value={resultForm.unite} onChange={(e) => setResultForm({ ...resultForm, unite: e.target.value })} placeholder=\"g/L, mmol/L...\" required />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label>Interprétation</label>\r\n                  <textarea className=\"form-control\" value={resultForm.interpretation} onChange={(e) => setResultForm({ ...resultForm, interpretation: e.target.value })} rows={3} />\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-footer\">\r\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowResultModal(false)}>Annuler</button>\r\n                <button type=\"submit\" className=\"btn btn-primary\">Enregistrer</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <ConfirmModal\r\n        show={!!confirmDelete}\r\n        title=\"Supprimer l'analyse\"\r\n        message={confirmDelete ? `Voulez-vous vraiment supprimer l'analyse \"${confirmDelete.typeAnalyse}\" ?` : ''}\r\n        confirmText=\"Supprimer\"\r\n        cancelText=\"Annuler\"\r\n        variant=\"danger\"\r\n        onConfirm={() => handleDelete(confirmDelete.idAnalyse)}\r\n        onCancel={() => setConfirmDelete(null)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Analyses;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}