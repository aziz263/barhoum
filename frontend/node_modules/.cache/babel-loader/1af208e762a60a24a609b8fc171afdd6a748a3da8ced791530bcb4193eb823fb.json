{"ast":null,"code":"import React from'react';import{Outlet,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{FiHome,FiUsers,FiFileText,FiActivity,FiClipboard,FiDownload,FiSettings,FiLogOut,FiHeart,FiShield,FiList}from'react-icons/fi';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Layout=function Layout(){var _user$prenom,_user$nom;var _useAuth=useAuth(),user=_useAuth.user,logout=_useAuth.logout;var navigate=useNavigate();var location=useLocation();var menuItems=[{path:'/',label:'Tableau de bord',icon:/*#__PURE__*/_jsx(FiHome,{}),roles:['medecin','infirmier','administrateur','technicien']},{path:'/patients',label:'Patients',icon:/*#__PURE__*/_jsx(FiUsers,{}),roles:['medecin','infirmier','administrateur']},{path:'/dossiers',label:'Dossiers Médicaux',icon:/*#__PURE__*/_jsx(FiFileText,{}),roles:['medecin','administrateur']},{path:'/signes-vitaux',label:'Signes Vitaux',icon:/*#__PURE__*/_jsx(FiActivity,{}),roles:['infirmier','medecin','administrateur']},{path:'/analyses',label:'Analyses Labo',icon:/*#__PURE__*/_jsx(FiClipboard,{}),roles:['technicien','medecin','administrateur']},{path:'/rapports',label:'Rapports PDF',icon:/*#__PURE__*/_jsx(FiDownload,{}),roles:['medecin','administrateur']},{path:'/documents',label:'Documents Sécurisés',icon:/*#__PURE__*/_jsx(FiShield,{}),roles:['medecin','infirmier','administrateur','technicien']},{path:'/journal',label:'Journal d\\'activités',icon:/*#__PURE__*/_jsx(FiList,{}),roles:['administrateur']},{path:'/utilisateurs',label:'Utilisateurs',icon:/*#__PURE__*/_jsx(FiSettings,{}),roles:['administrateur']}];var visibleMenuItems=menuItems.filter(function(item){return item.roles.includes(user===null||user===void 0?void 0:user.role);});var handleLogout=function handleLogout(){logout();navigate('/login');};var initials=user?\"\".concat(((_user$prenom=user.prenom)===null||_user$prenom===void 0?void 0:_user$prenom[0])||'').concat(((_user$nom=user.nom)===null||_user$nom===void 0?void 0:_user$nom[0])||''):'';return/*#__PURE__*/_jsxs(\"div\",{className:\"app-layout\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(FiHeart,{style:{marginRight:8}}),\"MediSuivi\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Syst\\xE8me de Suivi M\\xE9dical\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"sidebar-nav\",children:visibleMenuItems.map(function(item){return/*#__PURE__*/_jsxs(\"button\",{className:\"nav-item \".concat(location.pathname===item.path?'active':''),onClick:function onClick(){return navigate(item.path);},children:[item.icon,item.label]},item.path);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:initials}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[user===null||user===void 0?void 0:user.prenom,\" \",user===null||user===void 0?void 0:user.nom]}),/*#__PURE__*/_jsx(\"div\",{className:\"role\",children:user===null||user===void 0?void 0:user.role})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-logout\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(FiLogOut,{}),\" D\\xE9connexion\"]})]})]}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:/*#__PURE__*/_jsx(Outlet,{})})]});};export default Layout;","map":{"version":3,"names":["React","Outlet","useNavigate","useLocation","useAuth","FiHome","FiUsers","FiFileText","FiActivity","FiClipboard","FiDownload","FiSettings","FiLogOut","FiHeart","FiShield","FiList","jsx","_jsx","jsxs","_jsxs","Layout","_user$prenom","_user$nom","_useAuth","user","logout","navigate","location","menuItems","path","label","icon","roles","visibleMenuItems","filter","item","includes","role","handleLogout","initials","concat","prenom","nom","className","children","style","marginRight","map","pathname","onClick"],"sources":["C:/Users/AZIZ/Desktop/pfa esprim/barhoum/frontend/src/components/Layout.js"],"sourcesContent":["import React from 'react';\r\nimport { Outlet, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport {\r\n  FiHome, FiUsers, FiFileText, FiActivity, FiClipboard,\r\n  FiDownload, FiSettings, FiLogOut, FiHeart, FiShield, FiList\r\n} from 'react-icons/fi';\r\n\r\nconst Layout = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const menuItems = [\r\n    { path: '/', label: 'Tableau de bord', icon: <FiHome />, roles: ['medecin', 'infirmier', 'administrateur', 'technicien'] },\r\n    { path: '/patients', label: 'Patients', icon: <FiUsers />, roles: ['medecin', 'infirmier', 'administrateur'] },\r\n    { path: '/dossiers', label: 'Dossiers Médicaux', icon: <FiFileText />, roles: ['medecin', 'administrateur'] },\r\n    { path: '/signes-vitaux', label: 'Signes Vitaux', icon: <FiActivity />, roles: ['infirmier', 'medecin', 'administrateur'] },\r\n    { path: '/analyses', label: 'Analyses Labo', icon: <FiClipboard />, roles: ['technicien', 'medecin', 'administrateur'] },\r\n    { path: '/rapports', label: 'Rapports PDF', icon: <FiDownload />, roles: ['medecin', 'administrateur'] },\r\n    { path: '/documents', label: 'Documents Sécurisés', icon: <FiShield />, roles: ['medecin', 'infirmier', 'administrateur', 'technicien'] },\r\n    { path: '/journal', label: 'Journal d\\'activités', icon: <FiList />, roles: ['administrateur'] },\r\n    { path: '/utilisateurs', label: 'Utilisateurs', icon: <FiSettings />, roles: ['administrateur'] },\r\n  ];\r\n\r\n  const visibleMenuItems = menuItems.filter(item => item.roles.includes(user?.role));\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  const initials = user ? `${user.prenom?.[0] || ''}${user.nom?.[0] || ''}` : '';\r\n\r\n  return (\r\n    <div className=\"app-layout\">\r\n      <aside className=\"sidebar\">\r\n        <div className=\"sidebar-header\">\r\n          <h2><FiHeart style={{ marginRight: 8 }} />MediSuivi</h2>\r\n          <p>Système de Suivi Médical</p>\r\n        </div>\r\n\r\n        <nav className=\"sidebar-nav\">\r\n          {visibleMenuItems.map((item) => (\r\n            <button\r\n              key={item.path}\r\n              className={`nav-item ${location.pathname === item.path ? 'active' : ''}`}\r\n              onClick={() => navigate(item.path)}\r\n            >\r\n              {item.icon}\r\n              {item.label}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n\r\n        <div className=\"sidebar-footer\">\r\n          <div className=\"user-info\">\r\n            <div className=\"user-avatar\">{initials}</div>\r\n            <div className=\"user-details\">\r\n              <div className=\"name\">{user?.prenom} {user?.nom}</div>\r\n              <div className=\"role\">{user?.role}</div>\r\n            </div>\r\n          </div>\r\n          <button className=\"btn-logout\" onClick={handleLogout}>\r\n            <FiLogOut /> Déconnexion\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      <main className=\"main-content\">\r\n        <Outlet />\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}